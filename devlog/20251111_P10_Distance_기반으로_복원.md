# 20251111 P10: Distance 기반 Dendrogram으로 복원

## 개요

Similarity 기반 dendrogram에서 다시 원래의 Distance 기반 dendrogram으로 복원.

## 변경 사항

### Before (Similarity 기반)

```python
def update_dendrogram(self):
    # ...
    # Convert linkage matrix from distance to similarity
    full_linkage = self.step_manager.linkage_matrix.copy()
    max_sim = self.step_manager.max_sim
    full_linkage[:, 2] = max_sim - full_linkage[:, 2]  # Distance → Similarity

    # Plot dendrogram
    ddata = dendrogram(full_linkage, ...)

    # Current step height (similarity)
    current_height = full_linkage[self.current_step - 1, 2]
    ax.axvline(x=current_height, ...)

    ax.set_xlabel('Similarity', fontsize=9)
```

### After (Distance 기반 - 원래대로)

```python
def update_dendrogram(self):
    # ...
    # Use linkage matrix as-is (distance values)
    full_linkage = self.step_manager.linkage_matrix

    # Plot dendrogram
    ddata = dendrogram(full_linkage, ...)

    # Current step height (distance)
    current_height = full_linkage[self.current_step - 1, 2]
    ax.axvline(x=current_height, ...)

    ax.set_xlabel('Distance', fontsize=9)
```

## 복원된 동작

### Dendrogram 표시

```
Distance
0.0  0.1  0.15  0.2  0.3  ...  0.65  0.7
│    │    │
J────T    O──Q                         │
     │    │                            │
     └────┴────────────────────────────┘
                                      Root

- Leaf: distance=0 (왼쪽, 자기 자신과 거리 0)
- Root: 높은 distance (오른쪽, 멀어짐)
- 증가 방향: 왼쪽 → 오른쪽
```

### 색상 하이라이트

- **파란색**: 완료된 merge (step 1 ~ current_step)
- **회색**: 아직 완료되지 않은 merge
- **빨간 점선**: 현재 step의 distance 위치

## 원래 방식의 장점

1. **scipy 표준**: Distance 기반이 scipy의 기본 방식
2. **일반적 관습**: 대부분의 dendrogram이 distance 사용
3. **간단한 구현**: 변환 없이 linkage matrix 그대로 사용
4. **안정성**: 추가 변환 없어 버그 가능성 감소

## 결론

사용자 요청에 따라 Distance 기반 dendrogram으로 복원:
- ✅ Linkage matrix를 그대로 사용
- ✅ X축 레이블: "Distance"
- ✅ 변환 로직 제거
- ✅ scipy 표준 방식 유지

**원래의 안정적인 distance 기반 시각화로 복원 완료!**
